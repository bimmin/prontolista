{% extends "admin/base.html" %}

{% block extrastyle %}
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/css/select2.min.css" rel="stylesheet" />
{% endblock %}

{% block footer %}
  {{ block.super }}
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/js/select2.min.js"></script>
  <script type="text/javascript">
    // Credit: https://yuji.wordpress.com/2014/05/05/select2-autocomplete-in-the-django-suit-admin/
    $(() => {
      select2Options = {
        'width': 'resolve',
      }
      $('#content-main select:not(.select2-offscreen)').select2(select2Options)
      Suit.after_inline.register('fire_up_select2', (inline_prefix, row) => {
        row.find('.select2-container').remove()
        row.find('select').removeClass('select2-offscreen')
        $(row.find('select')).select2(select2Options)
      })
    })
  </script>
{% endblock %}
